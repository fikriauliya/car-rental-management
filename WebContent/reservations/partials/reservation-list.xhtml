<div class="row">
  <div class="col col-md-12">
    <b>Address:</b> {{selectedBranch.address}}<br/>
    <b>Timezone:</b> {{selectedBranch.timezone}}<br/>
    <b>Opening hour:</b> {{selectedBranch.openingHour}}<br/>
    <b>Closing hour:</b> {{selectedBranch.closingHour}}
    <br/><br/>
    <button class="btn btn-xs btn-success" style="margin-left:5px" ng-click="displayInventoryDialog(false)">
      <span class="glyphicon glyphicon-plus"/>
      Create new reservation
    </button>
    <hr/>
  </div>
</div>
<div class="row">
  <div class="col col-md-5">
    <div id="myCalendar" ui-calendar="uiConfig.calendar" ng-model="reservations" calendar="myCalendar" class="myCalendar"></div>
  </div>
  <div class="col col-md-7">
    <div class="row">
      <div class="col-sm-12">
        <input type="text" placeholder="Search (type inventory name/customer name/reservation id here)" class="form-control" ng-model="filterText" ng-change="filterReservation()"/>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12" style="margin-top:20px">
        <table class="table table-striped table-condensed" ng-table="tableParams">
          <tbody ng-repeat="group in $groups">
            <tr class="ng-table-group">
                <td>
                    <a href="" ng-click="group.$hideRows = !group.$hideRows">
                        <span class="glyphicon" ng-class="{ 'glyphicon-chevron-right': group.$hideRows, 'glyphicon-chevron-down': !group.$hideRows }"></span>
                        <strong>#{{ group.value }}</strong>
                    </a>
                    <div style="margin-top:10px; margin-bottom:5px">
                      <span class="label label-danger" ng-if="!group.data[0].paid">Unpaid</span>
                      <span class="label label-success" ng-if="group.data[0].paid">Paid</span>

                      <span class="label label-primary" ng-if="group.data[0].status == 'SCHEDULED'">{{group.data[0].status}}</span>
                      <span class="label label-danger" ng-if="group.data[0].status == 'CANCELED'">{{group.data[0].status}}</span>
                      <span class="label label-success" ng-if="group.data[0].status == 'STARTED'">{{group.data[0].status}}</span>
                      <span class="label label-warning" ng-if="group.data[0].status == 'FINISHED'">{{group.data[0].status}}</span>
                    </div>
                </td>
                <td>{{group.data[0].customer.user.firstName}}</td>
                <td>{{group.data[0].customer.user.lastName}}</td>
                <td>{{group.data[0].start | date:'medium'}}</td>
                <td>{{group.data[0].end | date:'medium'}}</td>
                <td>
                  <button style="margin-left:10px" class="btn btn-xs btn-info" ui-sref="branch.details({branchId: selectedBranch.id, groupId: group.value})">Detail</button>
                </td>
            </tr>
            <tr ng-hide="group.$hideRows" ng-repeat="event in group.data">
              <td data-title="'Inventory'" sortable="'inventory.name'">
                {{event.inventory.name}}
              </td>
              <td data-title="'Firstname'" sortable="'customer.user.firstName'">
                <span class="label label-primary" ng-if="event.inventory.status == 'AVAILABLE'">{{event.inventory.status}}</span>
                <span class="label label-success" ng-if="event.inventory.status == 'RENTED'">{{event.inventory.status}}</span>
                <span class="label label-danger" ng-if="event.inventory.status == 'BROKEN'">{{event.inventory.status}}</span>
                <span class="label label-default" ng-if="event.inventory.status == 'DELETED'">{{event.inventory.status}}</span>
              </td>
              <td data-title="'Lastname'" sortable="'customer.user.lastName'"></td>
              <td data-title="'From'" sortable="'start'"></td>
              <td data-title="'To'" sortable="'end'"></td>
              <td></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
